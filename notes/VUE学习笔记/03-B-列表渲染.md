# åˆ—è¡¨æ¸²æŸ“

> **å¯¹åº”å®éªŒå®¤**: LabVueList, LabDirectives  
> **æ¶‰åŠæºæ–‡ä»¶**: FileTree.vue, AppSidebar.vue

## 1. v-for åŸºç¡€

ä½¿ç”¨ `v-for` æŒ‡ä»¤åŸºäºæ•°ç»„æ¸²æŸ“åˆ—è¡¨ï¼š

```vue
<template>
  <ul>
    <li v-for="item in items" :key="item.id">
      {{ item.name }}
    </li>
  </ul>
</template>

<script setup>
import { ref } from 'vue'

const items = ref([
  { id: 1, name: 'è‹¹æœ' },
  { id: 2, name: 'é¦™è•‰' },
  { id: 3, name: 'æ©™å­' }
])
</script>
```

## 2. key å±æ€§çš„é‡è¦æ€§

> âš ï¸ **å¿…é¡»**ä¸º `v-for` çš„æ¯ä¸ªå…ƒç´ æä¾›å”¯ä¸€çš„ `key`ã€‚

```vue
<!-- âœ… æ­£ç¡®ï¼šä½¿ç”¨å”¯ä¸€ ID ä½œä¸º key -->
<li v-for="item in items" :key="item.id">

<!-- âŒ é”™è¯¯ï¼šä½¿ç”¨ç´¢å¼•ä½œä¸º keyï¼ˆåœ¨åˆ—è¡¨ä¼šå˜åŒ–æ—¶ï¼‰ -->
<li v-for="(item, index) in items" :key="index">

<!-- âŒ é”™è¯¯ï¼šæ²¡æœ‰ key -->
<li v-for="item in items">
```

### ä¸ºä»€ä¹ˆéœ€è¦ keyï¼Ÿ

Vue ä½¿ç”¨ key æ¥è·Ÿè¸ªæ¯ä¸ªèŠ‚ç‚¹çš„èº«ä»½ï¼Œä»¥ä¾¿é‡ç”¨å’Œé‡æ–°æ’åºç°æœ‰å…ƒç´ ï¼š

```vue
<!-- æ²¡æœ‰ key æ—¶ï¼ŒVue ä¼šå°±åœ°æ›´æ–°å…ƒç´ ï¼Œå¯èƒ½å¯¼è‡´çŠ¶æ€é”™ä¹± -->
<input v-for="item in items" :placeholder="item.name" />

<!-- æœ‰ key æ—¶ï¼ŒVue èƒ½æ­£ç¡®è¿½è¸ªæ¯ä¸ªè¾“å…¥æ¡† -->
<input v-for="item in items" :key="item.id" :placeholder="item.name" />
```

## 3. ç´¢å¼•å’Œè§£æ„

```vue
<template>
  <!-- è·å–ç´¢å¼• -->
  <li v-for="(item, index) in items" :key="item.id">
    {{ index + 1 }}. {{ item.name }}
  </li>
  
  <!-- éå†å¯¹è±¡ -->
  <div v-for="(value, key, index) in object" :key="key">
    {{ index }}. {{ key }}: {{ value }}
  </div>
</template>

<script setup>
const object = {
  title: 'æ¨±èŠ±ç¬”è®°',
  author: 'Zihan',
  date: '2024'
}
</script>
```

## 4. æœ¬ç«™å®ä¾‹

### 4.1 æ–‡ä»¶æ ‘æ¸²æŸ“

```vue
<!-- ğŸ“ FileTree.vue - é€’å½’ç»„ä»¶ -->
<template>
  <ul class="file-tree">
    <li v-for="node in nodes" :key="node.path">
      <!-- æ–‡ä»¶å¤¹ -->
      <div v-if="node.type === 'directory'" @click="toggle(node)">
        ğŸ“ {{ node.name }}
      </div>
      
      <!-- æ–‡ä»¶ -->
      <div v-else @click="select(node)">
        ğŸ“„ {{ node.name }}
      </div>
      
      <!-- é€’å½’æ¸²æŸ“å­èŠ‚ç‚¹ -->
      <FileTree 
        v-if="node.children && isExpanded(node)"
        :nodes="node.children"
      />
    </li>
  </ul>
</template>
```

### 4.2 å‘˜å·¥è¡¨æ ¼

```vue
<!-- ğŸ“ LabVueList.vue -->
<template>
  <table>
    <tr v-for="emp in employees" :key="emp.id">
      <td>{{ emp.name }}</td>
      <td>{{ emp.gender === 1 ? 'ç”·' : 'å¥³' }}</td>
      <td>{{ getJobName(emp.job) }}</td>
      <td>
        <button @click="remove(emp.id)">åˆ é™¤</button>
      </td>
    </tr>
  </table>
</template>

<script setup>
const employees = ref([
  { id: 1, name: 'å¼ ä¸‰', gender: 1, job: 1 },
  { id: 2, name: 'æå››', gender: 2, job: 2 }
])

const getJobName = (job) => {
  const jobs = { 1: 'è®²å¸ˆ', 2: 'ç­ä¸»ä»»', 3: 'å…¶ä»–' }
  return jobs[job]
}

const remove = (id) => {
  employees.value = employees.value.filter(e => e.id !== id)
}
</script>
```

### 4.3 æœç´¢ç»“æœåˆ—è¡¨

```vue
<!-- ğŸ“ SearchModal.vue -->
<template>
  <ul class="search-results">
    <li 
      v-for="result in searchResults" 
      :key="result.path"
      @click="selectResult(result)"
    >
      <span class="title">{{ result.title }}</span>
      <span class="path">{{ result.path }}</span>
      <p class="preview" v-html="result.preview"></p>
    </li>
  </ul>
</template>
```

## 5. åœ¨ `<template>` ä¸Šä½¿ç”¨ v-for

æ¸²æŸ“å¤šä¸ªå…ƒç´ æ—¶ï¼š

```vue
<template>
  <ul>
    <template v-for="item in items" :key="item.id">
      <li>{{ item.name }}</li>
      <li class="divider"></li>
    </template>
  </ul>
</template>
```

## 6. èŒƒå›´ v-for

```vue
<template>
  <!-- æ¸²æŸ“ 1 åˆ° 10 -->
  <span v-for="n in 10" :key="n">{{ n }}</span>
  
  <!-- æ¸²æŸ“æ˜Ÿçº§è¯„åˆ† -->
  <span v-for="n in 5" :key="n">
    {{ n <= rating ? 'â˜…' : 'â˜†' }}
  </span>
</template>
```

## 7. æ•°ç»„æ›´æ–°æ£€æµ‹

Vue èƒ½å¤Ÿæ£€æµ‹ä»¥ä¸‹æ•°ç»„å˜æ›´æ–¹æ³•ï¼š

```typescript
// å˜æ›´æ–¹æ³•ï¼ˆä¼šè§¦å‘è§†å›¾æ›´æ–°ï¼‰
items.value.push(newItem)
items.value.pop()
items.value.shift()
items.value.unshift(newItem)
items.value.splice(index, 1)
items.value.sort()
items.value.reverse()

// æ›¿æ¢æ•°ç»„ï¼ˆä¹Ÿä¼šè§¦å‘æ›´æ–°ï¼‰
items.value = items.value.filter(item => item.active)
items.value = [...items.value, newItem]
```

## 8. ä½¿ç”¨è®¡ç®—å±æ€§è¿‡æ»¤/æ’åº

```vue
<template>
  <!-- æ˜¾ç¤ºè¿‡æ»¤åçš„åˆ—è¡¨ -->
  <li v-for="item in filteredItems" :key="item.id">
    {{ item.name }}
  </li>
</template>

<script setup>
import { ref, computed } from 'vue'

const items = ref([...])
const searchText = ref('')

// ä½¿ç”¨è®¡ç®—å±æ€§è€Œä¸æ˜¯åœ¨æ¨¡æ¿ä¸­è¿‡æ»¤
const filteredItems = computed(() => {
  return items.value.filter(item => 
    item.name.includes(searchText.value)
  )
})
</script>
```

---

## ğŸ§ª åŠ¨æ‰‹å®éªŒ

æœ¬ç« èŠ‚å¯¹åº”å®éªŒå®¤ï¼š**LabVueList**, **LabDirectives**

å®Œæˆä»¥ä¸‹ç»ƒä¹ ï¼š
1. [ ] å®ç°ä¸€ä¸ªå¸¦å¢åˆ åŠŸèƒ½çš„åˆ—è¡¨
2. [ ] ç†è§£ key çš„ä½œç”¨ï¼ˆå°è¯•ä¸ç”¨ key çš„æƒ…å†µï¼‰
3. [ ] ä½¿ç”¨è®¡ç®—å±æ€§å®ç°è¿‡æ»¤åŠŸèƒ½

---

## ğŸ“ å°ç»“

| è¯­æ³• | ç”¨é€” |
|------|------|
| `v-for="item in items"` | éå†æ•°ç»„ |
| `v-for="(item, index) in items"` | å¸¦ç´¢å¼•éå† |
| `v-for="(value, key) in object"` | éå†å¯¹è±¡ |
| `v-for="n in 10"` | èŒƒå›´éå† |
| `:key="uniqueId"` | å¿…é¡»ï¼æä¾›å”¯ä¸€æ ‡è¯† |
