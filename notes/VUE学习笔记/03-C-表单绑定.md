# è¡¨å•ç»‘å®š

> **å¯¹åº”å®éªŒå®¤**: LabDirectives  
> **æ¶‰åŠæºæ–‡ä»¶**: SearchModal.vue, WriteEditor.vue, SettingsModal.vue

## 1. v-model åŸºç¡€

`v-model` åœ¨è¡¨å•å…ƒç´ ä¸Šåˆ›å»º**åŒå‘æ•°æ®ç»‘å®š**ï¼š

```vue
<template>
  <input v-model="message" />
  <p>æ¶ˆæ¯ï¼š{{ message }}</p>
</template>

<script setup>
import { ref } from 'vue'
const message = ref('')
</script>
```

`v-model` å®é™…ä¸Šæ˜¯è¯­æ³•ç³–ï¼š

```vue
<!-- v-model ç­‰ä»·äº -->
<input 
  :value="message" 
  @input="message = $event.target.value" 
/>
```

## 2. ä¸åŒè¡¨å•å…ƒç´ 

### 2.1 æ–‡æœ¬è¾“å…¥

```vue
<template>
  <!-- å•è¡Œæ–‡æœ¬ -->
  <input v-model="text" type="text" />
  
  <!-- å¤šè¡Œæ–‡æœ¬ -->
  <textarea v-model="content"></textarea>
</template>
```

### 2.2 å¤é€‰æ¡†

```vue
<template>
  <!-- å•ä¸ªå¤é€‰æ¡†ï¼ˆå¸ƒå°”å€¼ï¼‰ -->
  <input type="checkbox" v-model="isAgree" />
  <span>{{ isAgree ? 'å·²åŒæ„' : 'æœªåŒæ„' }}</span>
  
  <!-- å¤šä¸ªå¤é€‰æ¡†ï¼ˆæ•°ç»„ï¼‰ -->
  <input type="checkbox" value="vue" v-model="skills" />
  <input type="checkbox" value="react" v-model="skills" />
  <input type="checkbox" value="angular" v-model="skills" />
  <p>å·²é€‰æŠ€èƒ½ï¼š{{ skills }}</p>
</template>

<script setup>
const isAgree = ref(false)
const skills = ref([])  // ['vue', 'react']
</script>
```

### 2.3 å•é€‰æ¡†

```vue
<template>
  <input type="radio" value="dark" v-model="theme" /> æ·±è‰²
  <input type="radio" value="light" v-model="theme" /> æµ…è‰²
  <p>å½“å‰ä¸»é¢˜ï¼š{{ theme }}</p>
</template>

<script setup>
const theme = ref('light')
</script>
```

### 2.4 ä¸‹æ‹‰é€‰æ‹©

```vue
<template>
  <!-- å•é€‰ -->
  <select v-model="selected">
    <option value="">è¯·é€‰æ‹©</option>
    <option value="vue">Vue</option>
    <option value="react">React</option>
  </select>
  
  <!-- å¤šé€‰ -->
  <select v-model="multiSelected" multiple>
    <option value="vue">Vue</option>
    <option value="react">React</option>
    <option value="angular">Angular</option>
  </select>
</template>

<script setup>
const selected = ref('')
const multiSelected = ref([])
</script>
```

## 3. æœ¬ç«™å®ä¾‹

### 3.1 æœç´¢æ¡†

```vue
<!-- ğŸ“ SearchModal.vue -->
<template>
  <input 
    v-model="searchQuery"
    type="text"
    :placeholder="t.search_placeholder"
    @keyup.enter="search"
  />
</template>

<script setup>
const searchQuery = ref('')

// æœç´¢æŸ¥è¯¢å˜åŒ–æ—¶è‡ªåŠ¨æœç´¢ï¼ˆé€šè¿‡ watchï¼‰
watch(searchQuery, (query) => {
  if (query.length > 0) {
    performSearch(query)
  }
})
</script>
```

### 3.2 è®¾ç½®é¢æ¿

```vue
<!-- ğŸ“ SettingsModal.vue -->
<template>
  <!-- ä¸»é¢˜é€‰æ‹© -->
  <div class="setting-item">
    <label>{{ t.theme }}</label>
    <select v-model="isDark">
      <option :value="false">{{ t.theme_light }}</option>
      <option :value="true">{{ t.theme_dark }}</option>
    </select>
  </div>
  
  <!-- è¯­è¨€é€‰æ‹© -->
  <div class="setting-item">
    <label>è¯­è¨€ / Language</label>
    <select v-model="lang">
      <option value="zh">ä¸­æ–‡</option>
      <option value="en">English</option>
    </select>
  </div>
  
  <!-- å­—ä½“å¤§å°æ»‘å— -->
  <div class="setting-item">
    <label>{{ t.font_size }}</label>
    <input type="range" v-model.number="fontSize" min="12" max="24" />
    <span>{{ fontSize }}px</span>
  </div>
</template>
```

### 3.3 Markdown ç¼–è¾‘å™¨

```vue
<!-- ğŸ“ WriteEditor.vue -->
<template>
  <div class="editor-container">
    <!-- ç¼–è¾‘åŒº -->
    <textarea 
      v-model="content"
      class="markdown-input"
      @input="updatePreview"
    ></textarea>
    
    <!-- é¢„è§ˆåŒº -->
    <div class="preview" v-html="preview"></div>
  </div>
</template>

<script setup>
const content = ref('')
const preview = ref('')

const updatePreview = () => {
  preview.value = marked(content.value)
}
</script>
```

## 4. ä¿®é¥°ç¬¦

### 4.1 .lazy

é»˜è®¤æƒ…å†µä¸‹ï¼Œ`v-model` åœ¨æ¯æ¬¡ `input` äº‹ä»¶ååŒæ­¥æ•°æ®ã€‚`.lazy` æ”¹ä¸ºåœ¨ `change` äº‹ä»¶ååŒæ­¥ï¼š

```vue
<!-- å¤±å»ç„¦ç‚¹æˆ–æŒ‰ Enter æ—¶æ‰æ›´æ–° -->
<input v-model.lazy="message" />
```

### 4.2 .number

å°†è¾“å…¥å€¼è½¬æ¢ä¸ºæ•°å­—ï¼š

```vue
<input v-model.number="age" type="number" />
<!-- age çš„å€¼æ˜¯æ•°å­—ç±»å‹ï¼Œä¸æ˜¯å­—ç¬¦ä¸² -->
```

### 4.3 .trim

è‡ªåŠ¨å»é™¤é¦–å°¾ç©ºæ ¼ï¼š

```vue
<input v-model.trim="username" />
```

### ç»„åˆä½¿ç”¨

```vue
<input v-model.lazy.trim="message" />
<input v-model.number.lazy="count" />
```

## 5. ç»„ä»¶ä¸Šçš„ v-model

åœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸Šä½¿ç”¨ `v-model`ï¼š

```vue
<!-- çˆ¶ç»„ä»¶ -->
<CustomInput v-model="searchText" />

<!-- ç­‰ä»·äº -->
<CustomInput 
  :modelValue="searchText"
  @update:modelValue="searchText = $event"
/>
```

```vue
<!-- ğŸ“ CustomInput.vue -->
<template>
  <input 
    :value="modelValue"
    @input="$emit('update:modelValue', $event.target.value)"
  />
</template>

<script setup>
defineProps(['modelValue'])
defineEmits(['update:modelValue'])
</script>
```

### å¤šä¸ª v-model ç»‘å®š

```vue
<!-- çˆ¶ç»„ä»¶ -->
<UserForm
  v-model:firstName="first"
  v-model:lastName="last"
/>

<!-- UserForm.vue -->
<script setup>
defineProps(['firstName', 'lastName'])
defineEmits(['update:firstName', 'update:lastName'])
</script>
```

---

## ğŸ§ª åŠ¨æ‰‹å®éªŒ

æœ¬ç« èŠ‚å¯¹åº”å®éªŒå®¤ï¼š**LabDirectives**

å®Œæˆä»¥ä¸‹ç»ƒä¹ ï¼š
1. [ ] å®ç°ä¸€ä¸ªå¸¦éªŒè¯çš„ç™»å½•è¡¨å•
2. [ ] ä½¿ç”¨ v-model ä¿®é¥°ç¬¦
3. [ ] åœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸Šä½¿ç”¨ v-model

---

## ğŸ“ å°ç»“

| è¯­æ³• | ç”¨é€” |
|------|------|
| `v-model` | åŒå‘ç»‘å®š |
| `v-model.lazy` | change äº‹ä»¶æ—¶åŒæ­¥ |
| `v-model.number` | è½¬ä¸ºæ•°å­— |
| `v-model.trim` | å»é™¤é¦–å°¾ç©ºæ ¼ |
| `v-model:propName` | ç»„ä»¶å¤š v-model |
